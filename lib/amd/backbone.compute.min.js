// Backbone.Compute, v0.0.0
// Copyright (c)2012 Derick Bailey, Muted Solutions, LLC.
// Distributed under MIT license
// http://github.com/derickbailey/backbone.compute
(function(e,t){if(typeof exports=="object"){var n=require("underscore"),r=require("backbone");module.exports=t(n,r)}else typeof define=="function"&&define.amd&&define(["underscore","backbone"],t)})(this,function(e,t){return t.Compute=function(e,t){function n(e){for(var t in e)e[t]&&e[t].computedField&&e[t].call(e)}function r(e,n,r){n=t.flatten([n]);var i=n.length,s=function(){var t={};for(var s=0;s<i;s++){var o=n[s];t[o]=this.get(o)}var u=r.call(this,t);return this.set(e,u),u},o=function(){var e=t.bind(s,this);for(var r=0;r<i;r++){var o=n[r];this.on("change:"+o,e)}return e()};return o.computedField=!0,o}var i=function(){return arguments.length===1?n(arguments[0]):r.apply(null,arguments)};return i}(t,e),t.Compute});